<div class="row">
    <div *ngIf="topic.topic != null" class="col-sm-4" style="overflow-y: scroll; height:100vh;">
        <section class="head-image" style="background-image: url(img/baner-2.svg)">
            <div class="head-image__descr">
                <div class="head-image__descr__progress">
                    <div class="head-image__descr__progress__bar">
                        <div class="head-image__descr__progress__bar__width" style="width: 80%"></div>
                    </div>
                </div>
                <h2 class="head-image__descr__name">{{topic.origin.substring(0, 1).toUpperCase() + topic.origin.substring(1).toLowerCase()}} - {{topic.destination.substring(0, 1).toUpperCase() + topic.destination.substring(1).toLowerCase()}}</h2>
            </div>
        </section>
        
        <section class="body-content">
            <div class="body-content__block">
                <div *ngIf="flight != null" class="tickets">
                    <h4 class="body-content__block__head">
                        Air ticket
                    </h4>
                    <div class="tickets__item">
                        <div class="tickets__item__top">
                            <p class="price">{{flight.price.toStringAsFixed(1)}}€</p>
                            <font color="blue" font-size="20px">{{flight.gate}}</font>
                        </div>
                        <div class="tickets__item__mid">
                            <p>1 passenger</p>
                        </div>
                        <div class="tickets__item__bott">
                            <div class="tickets__item__bott__item">
                                <p class="h">Route</p>
                                <p class="info">{{flight.origin}} - {{flight.destination}}</p>
                            </div>
                            <div class="tickets__item__bott__item">
                                <p class="h">Date</p>
                                <p class="info">{{flight.departDate}}</p>
                            </div>
                            <div class="tickets__item__bott__item">
                                <p class="h">Changes</p>
                                <p class="info">Direct</p>
                            </div>
                        </div>
                        <!--<div class="tickets__item__pick">
                            <p class="not-picked">Выбрать</p>
                            <p class="picked">Выбрано</p>
                        </div>!-->
                    </div>
                </div>
                
            </div>
            
            <div *ngIf="hotel != null" class="body-content__block">
                <h4 class="body-content__block__head">
                    Accomodation in {{topic.destination.substring(0, 1).toUpperCase() + topic.destination.substring(1).toLowerCase()}}
                </h4>
                <div class="cards">
                    <div class="cards__item">
                        <div class="cards__item__img" style="background-image: url(img/hotel.jpg);"></div>
                        <div class="cards__item__descr">
                            <p class="name">{{hotel.name}}</p>
                            <p class="price">{{hotel.price}}€<span>/per night</span></p>
                        </div>
                        
                    </div>
                </div>
            </div>

            <div *ngIf="food != null && food.isNotEmpty" class="body-content__block">
                <h4 class="body-content__block__head">
                    Food in {{topic.destination.substring(0, 1).toUpperCase() + topic.destination.substring(1).toLowerCase()}}
                </h4>
                <div class="cards">
                  <div *ngFor="let item of food; let i=index">
                    <div class="cards__item">
                        <div class="cards__item__img" style="background-image: url(img/food.jpg);"></div>
                        <div class="cards__item__descr">
                            <p class="name">{{item.name}}</p>
                            <p class="mid">Average price</p>
                            <p class="bott">{{item.price}}€</p>
                        </div>
                    </div>
                  </div>
                </div>
            </div>
            <div *ngIf="places != null && places.isNotEmpty" class="body-content__block">
                <h4 class="body-content__block__head">
                    Interesting places
                </h4>
                <div class="trips">
                    <div *ngFor="let item of places; let i=index">
                        <div class='trips__item color-1'>
                            <p class="top">{{item.name}}</p>
                            <p class="bott">15 km</p>
                        </div>
                    </div>
                   
                </div>
            </div>
        </section>
        <div class="final-price">
            <div class="final-price__left">
                <p><span>TOTAL:</span><h3><strong>{{sum}} €</strong></h3></p>
            </div>
            <div class="final-price__right">
                <button style= "width: 150px;">BUY    </button>
            </div>
        </div>

    </div>  
    <div [ngClass]="{'col-sm-8': topic.topic != null, 'col-md-12': topic.topic == null}" >
      <div class="container">
        <div class="messaging">
          <div class="inbox_msg">
            <div class="mesgs">
              <div class="msg_history">
                <div *ngIf="messages.isNotEmpty">
                  <ul>
                      <li *ngFor="let item of messages; let i=index">
                        <div *ngIf="item.messageType == 'my_message'">
                          <div class="outgoing_msg">
                            <div class="sent_msg">
                              <p>{{item.message}}</p>
                              <span class="time_date" style="align: right;"> 11:01 AM    |    June 9</span> 
                            </div>
                          </div>
                        </div>
                        <div *ngIf="item.messageType == 'user_message'">
                          <div class="outgoing_msg">
                              <div class="incoming_msg">
                                <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                                <div class="received_msg">
                                  <div class="received_withd_msg">
                                    <p>{{item.message}}</p>
                                    <span class="time_date"> 11:01 AM    |    June 9</span>
                                  </div>
                                </div>
                              </div>
                          </div>
                        </div>
                      </li>
                  </ul>
                </div>
              </div>
              <div class="type_msg">
                <div class="input_msg_write">
                  <input spellcheck="true" autoComplete="true" autocorrect="true" #message                 
                  (keyup.enter)="add(message.value); message.value = ''"
                  type="text" class="write_msg" placeholder="Type a message"/>
                  <button class="msg_send_btn" 
                      (click)="add(message.value); message.value = ''">
                      <i class="fa fa-paper-plane-o" aria-hidden="true">           
                      </i>
                    </button>
                </div>
              </div>
            </div>
          </div>          
        </div>
      </div>      
    </div>
</div>


